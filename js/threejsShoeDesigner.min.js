function init(){scene=new THREE.Scene,(camera=new THREE.PerspectiveCamera(30,4/3,2,5e3)).position.z=600,camera.position.y=140,scene.add(camera),createAreaLights();var e=loadMaterials();window.objectContainer={loadObject:loadObject,materials:e},loadObject(objPathName,e.matGrey,e.matDarkGrey);var a=createPlane(3e3);scene.add(a),renderer=createRenderer(14540253),document.getElementById("canvasContainer").appendChild(renderer.domElement),controls=new THREE.OrbitControls(camera,renderer.domElement)}function createRenderer(e){return myRenderer=new THREE.WebGLRenderer({antialias:!0}),myRenderer.shadowMap.enabled=!0,myRenderer.shadowMap.type=THREE.PCFSoftShadowMap,myRenderer.setClearColor(e,1),myRenderer.setSize(window.innerWidth,window.innerHeight),myRenderer}function createPlane(e){var a=new THREE.PlaneGeometry(e,e);a.rotateX(-Math.PI/2);var n=new THREE.ShadowMaterial;n.opacity=.36;var t=new THREE.Mesh(a,n);return t.position.y=objY+1,t.receiveShadow=!0,t}function loadObject(e,a,n){loader.load(e,function(t){t.name=e;var r=["FR1","FR2","HE1","IB1","HG1","HT1","IB1","IL1","IN1","LI1","LO1","SO1","SO2","PF1","LI1","LC1","LC1LI","LC1HG","CO1","CO2","CO1LI","CO2LI"],o=["FR1","FR2","IB1","IL1","CO1","CO2","LC1","ST1","TN1BK","TK1BK","TT1BK","TT2BK","MJ1BK","TB1BK","BI1BK","BI2BK","BB2","TN1","TK1","TT1","HT1","LO1"];t.rotation.y=270*Math.PI/180,t.translateZ(90),t.translateY(objY),t.traverse(function(e){e instanceof THREE.Mesh&&(e.visible=!1,e.material=n,r.includes(e.name)&&(e.visible=!0,e.castShadow=!0),o.includes(e.name)&&(e.material=a))}),scene.add(t),window.objectContainer.scene=scene,window.objectContainer.obj=t})}function createAreaLights(){var e=new THREE.RectAreaLight(16777215,7e4,300,300);e.position.set(0,0,-165),scene.add(e);var a=new THREE.RectAreaLight(16777215,7e4,300,300);a.rotation.x=180*Math.PI/180,a.position.set(0,0,165),scene.add(a);var n=new THREE.RectAreaLight(16777215,7e4,300,300);n.rotation.x=90*Math.PI/180,n.rotation.y=90*Math.PI/180,n.position.set(-200,0,0),scene.add(n);var t=new THREE.RectAreaLight(16777215,7e4,300,300);t.rotation.x=90*Math.PI/180,t.rotation.y=-60*Math.PI/180,t.position.set(200,100,0),scene.add(t);var r=new THREE.SpotLight(16777215,.22);r.position.set(-140,100,-220),camera.add(r);var o=new THREE.PointLight(16777215,.32);o.position.set(300,200,0),camera.add(o);var i=new THREE.AmbientLight(16777215);i.intensity=.3,scene.add(i);var d=new THREE.SpotLight(16777215,0);d.castShadow=!0,d.shadow.radius=4,d.distance=1500,d.shadow.mapSize.width=2048,d.shadow.mapSize.height=2048,d.position.set(0,500,0),scene.add(d)}function animate(){requestAnimationFrame(animate),controls.update(),render()}function render(){renderer.render(scene,camera)}Detector.webgl||Detector.addGetWebGLMessage();var camera,scene,renderer,controls,background,loader=new THREE.OBJLoader,objY=-70;init(),animate();var loaderDiv=document.getElementById("loader");THREE.DefaultLoadingManager.onStart=function(e,a,n){loaderDiv.style.display="block"},THREE.DefaultLoadingManager.onLoad=function(e,a,n){loaderDiv.style.display="none"};